<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:t="org.apache.myfaces.custom.fieldset.Fieldset">
	<h:head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>GlobalShop.com</title>
  	</h:head>
 	 <h:body>
 	 	<ui:composition template="../templates/userEntryTemplate.xhtml">
 	 		<ui:define name="content">
		   	 	<h:panelGroup rendered="#{loggedUser == null}">
		   	 		<span class='Ueberschrift'>Login</span>
		   	 		<div class ='divForm'>
		   	 			<h:form>
		   	 				<t:fieldset legend="Login">
		   	 					<div>
					   	 			<h:outputLabel value="E-Mail:" for="email"/>
					   	 			<h:inputText id="email" type="email" value="#{userBean.user.email}" required="true">
					   	 				<f:validator validatorId="webeng.validation.EmailValidator"/>
					   	 				<f:ajax event="blur" render="emailMessage"/>
					   	 			</h:inputText>
					   	 			<h:message styleClass="errormessage" id="emailMessage" for="email"/><br/>
				   	 			</div>
				   	 			<div>
					   	 			<h:outputLabel value="Passwort:" for="pw"/>
					   	 			<h:inputSecret id="pw" value="#{userBean.user.passwort}" required="true"/><br/>
				   	 			</div>
				   	 			<div>
				   	 				<h:commandButton id="login" value="Einloggen" action="#{userBean.login}" class="button" />
				   	 			</div>
			   	 			</t:fieldset>
		   	 			</h:form>
		   	 			<h:messages styleClass="errormessage" showSummary="false" showDetail="true" />
		   	 		</div>
		   	 		<span> <a href="registrierung.xhtml">Noch kein Account? Hier Registrieren</a></span>
		   	 	</h:panelGroup>
		   	 	
		   	 	<h:panelGroup rendered="#{loggedUser != null}">
		   	 		<span class='Ueberschrift'>Logout</span>
		   	 		<div class ='divForm'>
		   	 			<h:form>
		   	 				<h:commandButton id="logout" value="Ausloggen" action="#{userBean.logout}"/>
		   	 			</h:form>
		   	 		</div>
		   	 	</h:panelGroup>
	   	 	</ui:define>
   	 	</ui:composition>
 	 </h:body>
</html>